<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠã™ã™ã‚ã‚¹ãƒãƒƒãƒˆ | ä¸‹åŒ—ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* --- å›ºæœ‰ã‚¹ã‚¿ã‚¤ãƒ« --- */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        .filter-btn {
            padding: 10px 25px;
            border: 2px solid var(--accent-color);
            background: transparent;
            color: var(--accent-color);
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-family: inherit;
        }
        .filter-btn.active, .filter-btn:hover {
            background: var(--accent-color);
            color: white;
        }
        
        .spot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .spot-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .spot-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .spot-img-wrapper {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
        }
        .spot-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        .spot-card:hover .spot-img {
            transform: scale(1.05);
        }
        
        .spot-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .spot-category {
            font-size: 0.75rem;
            color: #fff;
            margin-bottom: 10px;
            display: inline-block;
            padding: 4px 10px;
            border-radius: 100px;
            align-self: flex-start;
            font-weight: bold;
        }
        .cat-cafe { background-color: #e67e22; }
        .cat-curry { background-color: #f1c40f; color: #333; }
        .cat-spot { background-color: #3498db; }
        
        .spot-title {
            margin: 0 0 10px;
            font-size: 1.1rem;
            line-height: 1.4;
        }
        
        .spot-link {
            margin-top: auto;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            padding-top: 15px;
        }
        .spot-link::after {
            content: "â†’";
            margin-left: 5px;
            transition: transform 0.2s;
        }
        .spot-link:hover::after {
            transform: translateX(3px);
        }
    </style>
</head>
<body>

    <header class="header">
        <a href="index.html" class="logo">ä¸‹åŒ—ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</a>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">ãƒˆãƒƒãƒ—</a></li>
                <li><a href="schedule.html">æ´»å‹•äºˆå®š</a></li>
                <li><a href="recommend.html">ãŠã™ã™ã‚</a></li>
                <li><a href="column.html">ã‚³ãƒ©ãƒ </a></li>
                <li><a href="staff.html">é‹å–¶å‹Ÿé›†</a></li>
                <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
            </ul>
        </nav>
        <button class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </header>

    <section class="section main-content fade-in">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">ä¸‹åŒ—æ²¢ã®ãŠã™ã™ã‚ã‚¹ãƒãƒƒãƒˆ</h2>
            </div>
            <p style="text-align: center; margin-bottom: 40px;">æ´»å‹•ã®å‰å¾Œã«ã‚ˆãç«‹ã¡å¯„ã‚‹ãŠåº—ã‚„ã€<br>ãƒ¡ãƒ³ãƒãƒ¼ãŠã™ã™ã‚ã®ã‚¹ãƒãƒƒãƒˆã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>

            <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒœã‚¿ãƒ³ -->
            <div class="filter-container">
                <button class="filter-btn active" data-filter="all">ã™ã¹ã¦</button>
                <button class="filter-btn" data-filter="curry">ã‚«ãƒ¬ãƒ¼</button>
                <button class="filter-btn" data-filter="cafe">ã‚«ãƒ•ã‚§ãƒ»å–«èŒ¶</button>
                <button class="filter-btn" data-filter="spot">ãã®ä»–</button>
            </div>

            <!-- ã‚¹ãƒãƒƒãƒˆä¸€è¦§ -->
            <div id="spot-grid" class="spot-grid">
                <!-- JSã§ç”Ÿæˆ -->
            </div>

            <!-- â–¼â–¼â–¼ åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ â–¼â–¼â–¼ -->
            <div class="ad-container fade-in" style="margin-top: 60px;">
                <span class="ad-label">ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒªãƒ³ã‚¯</span>
                <a href="https://px.a8.net/svt/ejp?a8mat=4AV9KD+1C84S2+5Q4K+5Z6WX" rel="nofollow">
                <img border="0" width="300" height="250" alt="" src="https://www25.a8.net/svt/bgt?aid=260119597081&wid=001&eno=01&mid=s00000026714001004000&mc=1"></a>
                <img border="0" width="1" height="1" src="https://www19.a8.net/0.gif?a8mat=4AV9KD+1C84S2+5Q4K+5Z6WX" alt="">
            </div>
            <!-- â–²â–²â–² åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ â–²â–²â–² -->

            <div style="text-align: center; margin-top: 50px;">
                <p style="margin-bottom: 10px;">ã€Œã“ã“ã‚‚ãŠã™ã™ã‚ï¼ã€ã¨ã„ã†æƒ…å ±ãŒã‚ã‚Œã°ã€<br>ãœã²æ•™ãˆã¦ãã ã•ã„ï¼</p>
                <a href="contact.html" class="btn-cta">ãŠå•ã„åˆã‚ã›ã¯ã“ã¡ã‚‰</a>
                <a href="index.html" class="back-link">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p class="footer-links"><a href="index.html">ãƒˆãƒƒãƒ—</a> | <a href="schedule.html">æ´»å‹•äºˆå®š</a> | <a href="recommend.html">ãŠã™ã™ã‚</a> | <a href="column.html">ã‚³ãƒ©ãƒ </a> | <a href="contact.html">ãŠå•ã„åˆã‚ã›</a> | <a href="staff.html">é‹å–¶å‹Ÿé›†</a></p>
            <p class="copyright">&copy; 2026 ä¸‹åŒ—ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£. All Rights Reserved. | <a href="admin.html" style="color: #aaa; text-decoration: none;">ç®¡ç†</a></p>
        </div>
    </footer>

    <!-- ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
    <a href="#" class="back-to-top">â†‘</a>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // --- ä½ç½®æƒ…å ±å–å¾—ã¨è·é›¢è¡¨ç¤º ---
            const locationInfo = document.getElementById('location-info');
            // ä¸‹åŒ—æ²¢é§…å‘¨è¾ºã®åº§æ¨™
            const TARGET_LAT = 35.6612;
            const TARGET_LNG = 139.6666;

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        
                        // ç›´ç·šè·é›¢ã®è¨ˆç®— (Haversine formula)
                        const R = 6371; // åœ°çƒã®åŠå¾„(km)
                        const dLat = (TARGET_LAT - lat) * Math.PI / 180;
                        const dLng = (TARGET_LNG - lng) * Math.PI / 180;
                        const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                                  Math.cos(lat * Math.PI / 180) * Math.cos(TARGET_LAT * Math.PI / 180) * 
                                  Math.sin(dLng/2) * Math.sin(dLng/2);
                        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                        const distance = (R * c).toFixed(1); // å°æ•°ç‚¹ç¬¬1ä½ã¾ã§

                        // Googleãƒãƒƒãƒ—ãƒ«ãƒ¼ãƒˆæ¤œç´¢URL (å…¬å…±äº¤é€šæ©Ÿé–¢)
                        const mapUrl = `https://www.google.com/maps/dir/?api=1&origin=${lat},${lng}&destination=${TARGET_LAT},${TARGET_LNG}&travelmode=transit`;

                        locationInfo.innerHTML = `ğŸ“ä¸‹åŒ—æ²¢ã¾ã§ç´„${distance}km <a href="${mapUrl}" target="_blank">ğŸš†ãƒ«ãƒ¼ãƒˆãƒ»æ™‚é–“ã‚’æ¤œç´¢</a>`;
                        locationInfo.style.display = 'flex';
                    },
                    (error) => {
                        console.log("ä½ç½®æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ", error);
                    }
                );
            }

            // Hamburger Menu
            const hamburger = document.querySelector('.hamburger');
            const nav = document.querySelector('.main-nav');
            const navLinks = document.querySelectorAll('.main-nav a');

            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('is-active');
                nav.classList.toggle('is-active');
            });

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (nav.classList.contains('is-active')) {
                        hamburger.classList.remove('is-active');
                        nav.classList.remove('is-active');
                    }
                });
            });

            // Back to Top Button
            const backToTopButton = document.querySelector('.back-to-top');
            if (backToTopButton) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 400) {
                        backToTopButton.classList.add('visible');
                    } else {
                        backToTopButton.classList.remove('visible');
                    }
                });
                backToTopButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const observerOptions = {
                root: null,
                rootMargin: "0px",
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("visible");
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // ã“ã®ãƒšãƒ¼ã‚¸ã§æœ€åˆã«èª­ã¿è¾¼ã¾ã‚Œã‚‹fade-inè¦ç´ ã‚’ç›£è¦–
            const staticFadeInElements = document.querySelectorAll(".main-content.fade-in, .ad-container.fade-in");
            staticFadeInElements.forEach(el => observer.observe(el));

            // --- ã‚¹ãƒãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ ---
            const spots = [
                // Cafe
                { name: "OGAWA COFFEE LABORATORY ä¸‹åŒ—æ²¢", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13265558/" },
                { name: "W/O STAND SHIMOKITA", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13224222/" },
                { name: "BOOKENDS COFFEE SERVICE", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13199583/" },
                { name: "å–«èŒ¶ãƒã‚°ãƒ©", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13189972/" },
                { name: "ãƒˆãƒ­ãƒ¯ãƒ»ã‚·ãƒ£ãƒ³ãƒ–ãƒ«", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13001826/" },
                { name: "CITY COUNTRY CITY", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13009353/" },
                { name: "kate coffee", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13165345/" },
                { name: "ON THE WAY, coffee & cupcake", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13196811/" },
                { name: "Brooklyn Roasting Company", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13265559/" },
                { name: "COFFEA EXLIBRIS", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13145333/" },
                { name: "ãƒãƒ­ãƒ³ãƒ‡ãƒƒã‚»", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13158302/" },
                { name: "ãƒ¢ãƒ«ãƒ‡ã‚£ãƒ–", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13007111/" },
                { name: "ãƒ•ãƒªãƒƒãƒ‘ãƒ¼ã‚º ä¸‹åŒ—æ²¢åº—", category: "cafe", url: "https://tabelog.com/tokyo/A1318/A131802/13199527/" },
                
                // Curry
                { name: "ãƒã‚¸ãƒƒã‚¯ã‚¹ãƒ‘ã‚¤ã‚¹ æ±äº¬ä¸‹åŒ—æ²¢åº—", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13001852/" },
                { name: "Rojiura Curry SAMURAI. ä¸‹åŒ—æ²¢åº—", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13195632/" },
                { name: "æ—§ãƒ¤ãƒ é‚¸ ã‚·ãƒ¢ã‚­ã‚¿è˜", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13211592/" },
                { name: "èŒ„å­ãŠã‚„ã˜", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13001867/" },
                { name: "èˆ¬ã‚œè‹¥ PANNYA CAFE CURRY", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13125053/" },
                { name: "ã‚«ãƒ¬ãƒ¼ã®æƒ‘æ˜Ÿ", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13196427/" },
                { name: "SAMA ä¸‹åŒ—æ²¢åº—", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13099529/" },
                { name: "NAN STATION", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13131510/" },
                { name: "ã‚¹ãƒ‘ã‚¤ã‚¹ãƒ©ãƒ¼ãƒ¡ãƒ³ ç‚¹ã¨ç·š.", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13228867/" },
                { name: "ãƒãƒ‹ãƒ”ãƒªã‚«", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13149339/" },
                { name: "çŠ¬æ‹³å ‚", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13165792/" },
                { name: "ã‚«ãƒ¬ãƒ¼é£Ÿå ‚ å¿ƒ ä¸‹åŒ—æ²¢åº—", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13020224/" },
                { name: "202ã‚«ãƒªãƒ¼å ‚", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13259253/" },
                { name: "ç„¡æ•µã®ã‚«ãƒ¬ãƒ¼", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13270984/" },
                { name: "ã‚¹ãƒ‘ã‚¤ã‚¹ã‚­ãƒƒãƒãƒ³ ãƒ ãƒ¼ãƒŠ", category: "curry", url: "https://tabelog.com/tokyo/A1318/A131802/13130622/" },

                // Spot
                { name: "reload", category: "spot", url: "https://tabelog.com/tokyo/A1318/A131802/13261283/" },
                { name: "BONUS TRACK", category: "spot", url: "https://tabelog.com/tokyo/A1318/A131802/13245400/" }
            ];

            // ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ç”»åƒï¼ˆãƒ€ãƒŸãƒ¼ï¼‰
            const categoryImages = {
                cafe: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                curry: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                spot: "https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
            };

            const categoryNames = {
                cafe: "ã‚«ãƒ•ã‚§ãƒ»å–«èŒ¶",
                curry: "ã‚«ãƒ¬ãƒ¼",
                spot: "ãã®ä»–"
            };

            const grid = document.getElementById('spot-grid');
            const filterBtns = document.querySelectorAll('.filter-btn');

            function renderSpots(filter) {
                grid.innerHTML = '';
                const filteredSpots = filter === 'all' ? spots : spots.filter(s => s.category === filter);

                filteredSpots.forEach((spot, index) => {
                    const card = document.createElement('div');
                    card.className = 'spot-card fade-in';
                    card.style.animationDelay = `${index * 0.05}s`; // ãšã‚‰ã—ã¦è¡¨ç¤º

                    const imgUrl = categoryImages[spot.category];
                    const catName = categoryNames[spot.category];

                    card.innerHTML = `
                        <div class="spot-img-wrapper">
                            <img src="${imgUrl}" alt="${spot.name}" class="spot-img">
                        </div>
                        <div class="spot-content">
                            <span class="spot-category cat-${spot.category}">${catName}</span>
                            <h3 class="spot-title">${spot.name}</h3>
                            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(spot.name)}" target="_blank" rel="noopener noreferrer" class="spot-link">Googleãƒãƒƒãƒ—ã§è¦‹ã‚‹</a>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                // å‹•çš„ã«ç”Ÿæˆã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã‚‚ç›£è¦–å¯¾è±¡ã«è¿½åŠ 
                document.querySelectorAll('.spot-card.fade-in').forEach(el => observer.observe(el));
            }

            // åˆæœŸè¡¨ç¤º
            renderSpots('all');

            // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‡¦ç†
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆ
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    // æç”»
                    const filter = btn.dataset.filter;
                    renderSpots(filter);
                });
            });
        });
    </script>
</body>
</html>